!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){"use strict";e.exports={getWindow:function(){return window},getDocument:function(){return window.document},getReadyState:function(){return this.getDocument().readyState},getSiblingIframe:function(e){return window.parent.frames[e]},getOrigin:function(){var e=this.getWindow().location;return e.origin?e.origin:e.protocol+"//"+e.host},getParentLocation:function(){return this.getWindow().location!=this.getWindow().parent.location?this.getDocument().referrer:this.getDocument().location}}},function(e,t,n){"use strict";e.exports={endpoints:{ERROR_LOGGER:"/v2/js-error",FINGERPRINT:"/v2/f.js",LOGO:"/v2/logo.html",V:"/v2/v",CARD_NONCE:"/v2/card-nonce",IFRAME:"/v2/iframe",APPLE_PAY_VALIDATE_MERCHANT:"/v2/apple-pay/validate-merchant",MASTERPASS_CALLBACK:"/v2/masterpass/callback"},events:{LOAD_FORM_CONTROLLER:"loadFormController",REQUEST_CARD_NONCE_IF_VALID_FORM:"requestCardNonceIfValidForm",BUILD_STYLES_FOR_SCREEN_WIDTH:"buildStylesForScreenWidth",SET_POSTAL_CODE:"setPostalCode",BLUR_ALL_INPUTS:"blurAllInputs",LOAD_WALLET:"loadWallet",CARD_NONCE_RESPONSE_RECEIVED:"cardNonceResponseReceived",INPUT_EVENT_RECEIVED:"inputEventReceived",SET_INPUT_HEIGHT:"setInputHeight",SET_SESSION_ID:"setSessionId",PAYMENT_FORM_LOADED:"paymentFormLoaded",INSTALL_ERROR_LOGGER:"installErrorLogger",REQUEST_APPLE_PAY_CARD_NONCE:"requestApplePayCardNonce",RECEIVE_APPLE_PAY_CARD_NONCE:"receiveApplePayCardNonce",REQUEST_APPLE_PAY_MERCHANT_VALIDITY:"requestApplePayMerchantValidity",RECEIVE_APPLE_PAY_VALID_MERCHANT:"receiveApplePayValidMerchant",RECEIVE_MASTERPASS_TRANSACTION:"receiveMasterpassTransaction",SET_MASTERPASS_CHECKOUT_ID:"setMasterpassCheckoutId",REQUEST_MASTERPASS_CARD_NONCE:"requestMasterpassCardNonce"},inputEvents:{SUBMIT:"submit",FOCUS_CLASS_ADDED:"focusClassAdded",FOCUS_CLASS_REMOVED:"focusClassRemoved",ERROR_CLASS_ADDED:"errorClassAdded",ERROR_CLASS_REMOVED:"errorClassRemoved",CARD_BRAND_CHANGED:"cardBrandChanged",POSTAL_CODE_CHANGED:"postalCodeChanged"},wallets:{APPLE_PAY:"applePay",MASTERPASS:"masterpass"}}},function(e,t,n){"use strict";t.TIMEOUT_MS=1e4,t.post=function(e,n,r){r||"function"!=typeof n||(r=n,n={}),n||(n={}),"function"!=typeof r&&(r=function(){});var i=new XMLHttpRequest;if(i.open("POST",e,!0),i.timeout=n.timeout||t.TIMEOUT_MS,n.headers)for(var o in n.headers)i.setRequestHeader(o,n.headers[o]);n.json&&(i.setRequestHeader("Accept","application/json"),i.setRequestHeader("Content-Type","application/json; charset=utf-8")),i.onerror=function(){r(new Error("Unexpected error during request ("+e+")"))},i.onreadystatechange=function(){if(4===i.readyState){var e=i.responseText;if(e&&n.json)try{e=JSON.parse(e)}catch(e){return r(e)}var o={headers:t.parseHeaders(i.getAllResponseHeaders()),status:i.status,statusText:i.statusText};r(null,o,e)}},i.ontimeout=function(){r(new Error("Request timeout exceeded ("+i.timeout+"ms; "+e+")"))},n.body&&n.json&&(n.body=null),i.send(n.body||JSON.stringify(n.json))},t.parseHeaders=function(e){var t={};return e?(e.split("\r\n").forEach(function(e){var n=e.indexOf(": ");if(n>0){var r=e.substring(0,n),i=e.substring(n+2);t[r]=i}}),t):t}},function(e,t,n){"use strict";function r(e){return"https://docs.connect.squareup.com/payments/sqpaymentform/sqpaymentform-overview"+(e||"")}function i(e){return"https://docs.connect.squareup.com/payments/sqpaymentform/sqpaymentform-setup"+(e||"")}var o=r("#how-to-use-it-the-sqpaymentform-data-model"),s=r("#inputstyle-objects");function a(e){this.message="SqPaymentForm element with id `"+e+"` not found. Has the DOM finished loading?\nSee: "+i("#step-2-add-the-html-form-to-your-payment-page"),this.name="ElementNotFoundError";var t=Error(this.message);this.stack=t.stack,this.columnNumber=t.columnNumber,this.fileName=t.fileName,this.lineNumber=t.lineNumber}function l(e){this.message="SqPaymentForm element with id `"+e+"` is not visible. Does it or a parent element have `display:none`?",this.name="ElementNotVisibleError";var t=Error(this.message);this.stack=t.stack,this.columnNumber=t.columnNumber,this.fileName=t.fileName,this.lineNumber=t.lineNumber}function c(e){this.message="SqPaymentForm field `"+e+"` is invalid.",this.name="InvalidFieldError";var t=Error(this.message);this.stack=t.stack,this.columnNumber=t.columnNumber,this.fileName=t.fileName,this.lineNumber=t.lineNumber}function u(){this.message="SqPaymentForm can only be embedded on sites that use HTTPS. See: "+r("#requirements-and-limitations"),this.name="HttpsRequiredError";var e=Error(this.message);this.stack=e.stack,this.columnNumber=e.columnNumber,this.fileName=e.fileName,this.lineNumber=e.lineNumber}function p(e){this.message="Cannot call SqPaymentForm#"+e+" after SqPaymentForm#destroy. Create a new SqPaymentForm instance instead.",this.name="FormAlreadyDestroyedError";var t=Error(this.message);this.stack=t.stack,this.columnNumber=t.columnNumber,this.fileName=t.fileName,this.lineNumber=t.lineNumber}function d(e){this.message="Cannot call SqPaymentForm#"+e+" before SqPaymentForm is ready. See: "+r("#how-it-works-sqpaymentform-process-flow"),this.name="FormNotReadyError";var t=Error(this.message);this.stack=t.stack,this.columnNumber=t.columnNumber,this.fileName=t.fileName,this.lineNumber=t.lineNumber}function h(){this.message="SqPaymentForm#build called more than once. Did you mean to call SqPaymentForm#destroy first?\nSee: "+i("#troubleshooting"),this.name="FormAlreadyBuiltError";var e=Error(this.message);this.stack=e.stack,this.columnNumber=e.columnNumber,this.fileName=e.fileName,this.lineNumber=e.lineNumber}function m(e,t){this.message="The SqPaymentForm `"+e+"` argument must be of type "+t+".\nSee: "+o,this.name="InvalidArgumentError";var n=Error(this.message);this.stack=n.stack,this.columnNumber=n.columnNumber,this.fileName=n.fileName,this.lineNumber=n.lineNumber}function f(e){this.message="The SqPaymentForm `"+e+"` argument is required.\nSee: "+o,this.name="MissingArgumentError";var t=Error(this.message);this.stack=t.stack,this.columnNumber=t.columnNumber,this.fileName=t.fileName,this.lineNumber=t.lineNumber}function y(e){this.message="The SqPaymentForm `"+e+"` option value is invalid.\nSee: "+o,this.name="InvalidOptionError";var t=Error(this.message);this.stack=t.stack,this.columnNumber=t.columnNumber,this.fileName=t.fileName,this.lineNumber=t.lineNumber}function g(e){this.message="The SqPaymentForm `"+e+"` option is required.\nSee: "+o,this.name="MissingOptionError";var t=Error(this.message);this.stack=t.stack,this.columnNumber=t.columnNumber,this.fileName=t.fileName,this.lineNumber=t.lineNumber}function E(e){this.message="The SqPaymentForm `elementId` option is required for `"+e+"`.\nSee: "+o,this.name="MissingElementIdError";var t=Error(this.message);this.stack=t.stack,this.columnNumber=t.columnNumber,this.fileName=t.fileName,this.lineNumber=t.lineNumber}function b(e){this.message="The SqPaymentForm `"+e+"` option is required.\nSee: "+o,this.name="MissingInputTypeError";var t=Error(this.message);this.stack=t.stack,this.columnNumber=t.columnNumber,this.fileName=t.fileName,this.lineNumber=t.lineNumber}function v(e){this.message="The SqPaymentForm `"+e+"` callback is required.\nSee: "+o,this.name="MissingCallbackError";var t=Error(this.message);this.stack=t.stack,this.columnNumber=t.columnNumber,this.fileName=t.fileName,this.lineNumber=t.lineNumber}function S(e){this.message="The SqPaymentForm `"+e+"` callback must be a function.\nSee: "+o,this.name="InvalidCallbackError";var t=Error(this.message);this.stack=t.stack,this.columnNumber=t.columnNumber,this.fileName=t.fileName,this.lineNumber=t.lineNumber}function C(){this.message="The SqPaymentForm `inputStyles` option must be an array.\nSee: "+s,this.name="InvalidInputStylesError";var e=Error(this.message);this.stack=e.stack,this.columnNumber=e.columnNumber,this.fileName=e.fileName,this.lineNumber=e.lineNumber}function N(e){this.message="Invalid InputStyle property: `"+e+"`.\nSee: "+s,this.name="InvalidInputStylePropertyError";var t=Error(this.message);this.stack=t.stack,this.columnNumber=t.columnNumber,this.fileName=t.fileName,this.lineNumber=t.lineNumber}function A(e,t){this.message="Invalid InputStyle value `"+e+"` for property `"+t+"`.\nSee: "+s,this.name="InvalidInputStyleValueError";var n=Error(this.message);this.stack=n.stack,this.columnNumber=n.columnNumber,this.fileName=n.fileName,this.lineNumber=n.lineNumber}function I(){this.message="Input height zero detected; using fallback value",this.name="InputHeightZeroError";var e=Error(this.message);this.stack=e.stack,this.columnNumber=e.columnNumber,this.fileName=e.fileName,this.lineNumber=e.lineNumber}function _(){this.message="Browser not supported.\nSee: "+r("#prerequisites"),this.name="UnsupportedBrowserError";var e=Error(this.message);this.stack=e.stack,this.columnNumber=e.columnNumber,this.fileName=e.fileName,this.lineNumber=e.lineNumber}a.prototype=Object.create(Error.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),l.prototype=Object.create(Error.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c.prototype=Object.create(Error.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),u.prototype=Object.create(Error.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),p.prototype=Object.create(Error.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),d.prototype=Object.create(Error.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),h.prototype=Object.create(Error.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),m.prototype=Object.create(Error.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),f.prototype=Object.create(Error.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),y.prototype=Object.create(Error.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),g.prototype=Object.create(Error.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),E.prototype=Object.create(Error.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),b.prototype=Object.create(Error.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),v.prototype=Object.create(Error.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),S.prototype=Object.create(Error.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),C.prototype=Object.create(Error.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),N.prototype=Object.create(Error.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A.prototype=Object.create(Error.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),I.prototype=Object.create(Error.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),_.prototype=Object.create(Error.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),e.exports={ElementNotFoundError:a,ElementNotVisibleError:l,InvalidFieldError:c,HttpsRequiredError:u,FormAlreadyDestroyedError:p,FormNotReadyError:d,FormAlreadyBuiltError:h,InvalidArgumentError:m,MissingArgumentError:f,InvalidOptionError:y,MissingOptionError:g,MissingElementIdError:E,MissingInputTypeError:b,MissingCallbackError:v,InvalidCallbackError:S,InvalidInputStylesError:C,InvalidInputStylePropertyError:N,InvalidInputStyleValueError:A,InputHeightZeroError:I,UnsupportedBrowserError:_}},function(e,t,n){"use strict";var r=n(0);e.exports.embeddingAllowed=function(e,t){return/localhost$/.test(t.hostname)||"development"===e.name||"file:"===t.protocol||"https:"===t.protocol},e.exports.isSupportedBrowser=function(){var e=r.getWindow(),t=r.getDocument();return void 0!==e.postMessage&&void 0!==e.XMLHttpRequest&&void 0!==t.createElement("a").classList},e.exports.cloneObject=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},e.exports.isIE10=function(){return!!r.getDocument().documentElement.doScroll}},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(2);function s(e){this.options=e||{},this.env=this.options.env,this.source=this.options.source,this.applicationId=this.options.applicationId,this.ignoreError=0;var t=this.options.endpoint||r.endpoints.ERROR_LOGGER,n=this.options.baseURL||this.env.serviceUrl();this.url=n+t,this.options.captureUncaughtExceptions&&this.install(i.getWindow())}e.exports=s,s.prototype.destroy=function(){this.originalOnerror&&(i.getWindow().onerror=this.originalOnerror,this.originalOnerror=null)},s.prototype.ignoreNextError=function(){this.ignoreError+=1,i.getWindow().setTimeout(function(){this.ignoreError-=1}.bind(this),0)},s.prototype.wrap=function(e){var t=this;if(e.__inner__)return e;function n(){var n=[].slice.call(arguments);try{return e.apply(this,n)}catch(e){throw t.capture(e),e}}return n.__inner__=e,n},s.prototype.capture=function(e){(e.name||e.message)&&("development"===this.env.name&&i.getWindow().console.error("[captured error]",e.message),this.ignoreNextError(),this._send(this._createPayload(e.name,e.message||"[unknown]",e.fileName||"[unknown]",e.lineNumber||-1,e.stack)))},s.prototype.install=function(e){e.__error_logger__||(e.__error_logger__=!0,this.originalOnerror=e.onerror,e.onerror=function(t,n,r,i,o){if(!this.ignoreError&&!/Script error/.test(t))return this.capture(o),"function"==typeof this.originalOnerror&&this.originalOnerror.apply(e,[].slice.call(arguments))}.bind(this))},s.prototype._createPayload=function(e,t,n,r,o){var s=i.getWindow();return{app_id:this.applicationId,timestamp:Date.now(),type:e,message:t,stack:o,ua:s.navigator.userAgent,host:s.location.hostname,source:this.source}},s.prototype._send=function(e){o.post(this.url,{json:e},this._handleResponse.bind(this))},s.prototype._handleResponse=function(){}},function(e,t,n){"use strict";function r(){this.handlers={}}r.prototype.add=function(e,t){this.handlers[e]?this.handlers[e].push(t):this.handlers[e]=[t]},r.prototype.handle=function(e,t){var n=this.handlers[e],r=0;if(n)for(var i=0;i<n.length;i++)n[i](t),r+=1;return r},e.exports=r},function(e,t,n){"use strict";var r,i=n(1),o=n(0),s=n(2);function a(e){this.options=e,this.env=this.options.env;var t=o.getWindow().performance;t&&"function"!=typeof t.getEntriesByType&&(t=void 0),this.performance=t}function l(e){switch(e.initiatorType){case"script":return/v2\/paymentform/.test(e.name);case"iframe":return/v2\/iframe/.test(e.name);default:return!1}}a.prototype.collectLoadTiming=function(e,t){var n=this._resources().filter(l).reduce(function(e,t){return e[function(e){switch(r||(r=o.getDocument().createElement("a")),r.href=e,r.pathname){case"/v2/paymentform":return"m";case"/v2/iframe":switch(!0){case/type=cardNumber/.test(r.search):return"n";case/type=cvv/.test(r.search):return"v";case/type=expirationDate/.test(r.search):return"x";case/type=postalCode/.test(r.search):return"p";default:return"?"}}}(t.name)]=Math.round(t.duration),e},{t:e.tti});this._sendTimingReport(0,n,t)},a.prototype.collectNonceTiming=function(e){var t=i.endpoints.CARD_NONCE+"#r="+e,n=this._resources().filter(function(e,t){switch(t.initiatorType){case"xmlhttprequest":return new RegExp(e).test(t.name);default:return!1}}.bind(null,t)).pop();n&&this._sendTimingReport(1,{d:Math.round(n.duration)})},a.prototype._sendTimingReport=function(e,t,n){var r={e:e,a:this.options.applicationId,t:Date.now(),s:"SqPaymentForm",l:t};n&&(r.d=n),s.post(this.env.serviceUrl(i.endpoints.V),{json:r})},a.prototype._resources=function(){var e=[];return this.performance&&(e=this.performance.getEntriesByType("resource")),e},e.exports=a},function(e,t,n){"use strict";var r={production:{js:"https://js.squareup.com",service:"https://pci-connect.squareup.com"},staging:{js:"https://js.squareupstaging.com",service:"https://pci-connect.squareupstaging.com"},development:{js:"http://localhost:9090",service:"http://localhost:9090"},test:{js:"http://localhost:9090",service:"http://localhost:9090"}},i={production:{js:"https://static.masterpass.com/integration/merchant.js"},staging:{js:"https://sandbox.static.masterpass.com/integration/merchant.js"},development:{js:"https://sandbox.static.masterpass.com/integration/merchant.js"},test:{js:"https://sandbox.static.masterpass.com/integration/merchant.js"}};function o(e,t,n){return encodeURI(e+(t||"")+(n||""))}e.exports=function(e){r[e]||(e="production");var t=r[e];return{name:e,masterpassJsUrl:i[e].js,jsUrl:function(e,n){return o(t.js,e,n)},serviceUrl:function(e,n){return o(t.service,e,n)}}}},,,function(e,t,n){"use strict";var r={AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius, And Saba",BA:"Bosnia And Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria (rep.)",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",JE:"Channel Islands",GG:"Channel Islands",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (keeling) Islands",CO:"Colombia",KM:"Comoros",CD:"Congo (dem. Rep.)",CG:"Congo (rep.)",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'ivoire",HR:"Croatia",CW:"Curacao",CY:"Cyprus",CZ:"Czech Rep.",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Rep.",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (malvinas)",FO:"Faroe Islands",FJ:"Fiji",AX:"Finland",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada (west Indies)",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GN:"Guinea",GW:"Guinea-bissau",GY:"Guyana",HT:"Haiti",HM:"Heard And Mcdonald Islands",HN:"Honduras",HK:"Hong Kong",HU:"Hungary (rep.)",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran",IQ:"Iraq",IE:"Ireland",IM:"Isle Of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao (people's Dem. Rep.)",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia (federated State Of)",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru Central Pacific",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory",PA:"Panama (rep.)",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",MD:"Rep. Moldova",SG:"Rep. Of Singapore",RS:"Republic Of Serbia",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",MF:"Saint Martin",VC:"Saint Vincent And The Grenadines (antilles)",WS:"Samoa",SM:"San Marino",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",SC:"Seychelles",SL:"Sierra Leone",SX:"Sint Maarten",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia",KR:"South Korea",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",PM:"St. Pierre And Miquelon",SR:"Suriname",SJ:"Svalbard And Jan Mayen Islands",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania (united Rep.)",TH:"Thailand",TL:"Timor-leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VA:"Vatican",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands (british)",VI:"Virgin Islands (u.s.)",WF:"Wallis And Futuna Islands",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"};function i(e){"object"!=typeof e&&(e={}),this.data={},this.familyName=e.familyName,this.givenName=e.givenName,this.email=e.email,this.country=e.country,this.region=e.region,this.city=e.city,this.addressLines=e.addressLines,this.postalCode=e.postalCode}Object.defineProperty(i.prototype,"familyName",{get:function(){return this.data.familyName},set:function(e){this.data.familyName=e},enumerable:!0}),Object.defineProperty(i.prototype,"givenName",{get:function(){return this.data.givenName},set:function(e){this.data.givenName=e},enumerable:!0}),Object.defineProperty(i.prototype,"email",{get:function(){return this.data.email},set:function(e){this.data.email=e},enumerable:!0}),Object.defineProperty(i.prototype,"country",{get:function(){return this.data.country},set:function(e){this.data.country!=e&&(this.data.country=e,this.data.countryName=r[e])},enumerable:!0}),Object.defineProperty(i.prototype,"countryName",{get:function(){return this.data.countryName},enumerable:!0}),Object.defineProperty(i.prototype,"region",{get:function(){return this.data.region},set:function(e){this.data.region=e},enumerable:!0}),Object.defineProperty(i.prototype,"city",{get:function(){return this.data.city},set:function(e){this.data.city=e},enumerable:!0}),Object.defineProperty(i.prototype,"addressLines",{get:function(){return this.data.addressLines},set:function(e){!e||e instanceof Array||(e=[e.toString()]),this.data.addressLines=e},enumerable:!0}),Object.defineProperty(i.prototype,"postalCode",{get:function(){return this.data.postalCode},set:function(e){this.data.postalCode=e},enumerable:!0}),i.prototype.toApplePay=function(){return{addressLines:this.data.addressLines,locality:this.data.city,administrativeArea:this.data.region,postalCode:this.data.postalCode,countryCode:this.data.country,country:this.data.countryName,givenName:this.data.givenName,familyName:this.data.familyName,emailAddress:this.data.email}},i.fromApplePay=function(e){return e?new i({addressLines:e.addressLines,city:e.locality,region:e.administrativeArea,postalCode:e.postalCode,country:e.countryCode,givenName:e.givenName,familyName:e.familyName,email:e.emailAddress}):e},e.exports=i},,,,function(e,t,n){"use strict";n(0).getWindow().SqPaymentForm=n(16)},function(e,t,n){"use strict";var r=n(5),i=n(17),o=n(3),s=n(8),a=n(4),l=n(0);function c(e){this.options=e,this.env=s(e?e.env:"production"),this.env.name!=c.serverEnv&&l.getWindow().console.warn("Requested environment ("+this.env.name+") does not match server environment ("+c.serverEnv+"). Unexpected behaviour may occur due to mismatched environments."),this.errorLogger=new r({applicationId:this.options&&this.options.applicationId,captureUncaughtExceptions:!1,source:"SqPaymentForm",env:this.env});var t=this.validateOptions(this.options);if(t)throw this.errorLogger.capture(t),t;if(0===this.options.applicationId.indexOf("sandbox-")&&l.getWindow().console.info("SqPaymentForm initialized in Sandbox Mode. See https://docs.connect.squareup.com/articles/using-sandbox/"),!a.embeddingAllowed(this.env,l.getWindow().location)){var n=new o.HttpsRequiredError;throw this.errorLogger.capture(n),n}var u=a.cloneObject(this.options);u.env=this.env,u.errorLogger=this.errorLogger,this.clientController=new i(u),!1!==this.options.autoBuild&&(this._handleDomContentLoaded=this.build.bind(this),a.isIE10()?l.getWindow().addEventListener("load",this._handleDomContentLoaded):"loading"===l.getReadyState()&&l.getDocument().addEventListener("DOMContentLoaded",this._handleDomContentLoaded))}c.serverEnv="production",c.isSupportedBrowser=a.isSupportedBrowser.bind(null),c.prototype.build=function(){if(this.detachLoadEvent(),this.build=function(){var e=new o.FormAlreadyBuiltError;throw this.errorLogger.capture(e),e},!a.isSupportedBrowser())return this.errorLogger.capture(new o.UnsupportedBrowserError),void(this.options.callbacks&&"function"==typeof this.options.callbacks.unsupportedBrowserDetected&&this.options.callbacks.unsupportedBrowserDetected());try{this.clientController.build()}catch(e){throw this.errorLogger.capture(e),e}},c.prototype.destroy=function(){this.detachLoadEvent(),this.clientController&&(this.clientController.destroy(),this.clientController=null),this.errorLogger.destroy(),this.errorLogger=null,this.build=function(){throw new o.FormAlreadyDestroyedError("build")},this.requestCardNonce=function(){throw new o.FormAlreadyDestroyedError("requestCardNonce")}},c.prototype.requestCardNonce=function(){if(!this.clientController.hasLoaded()){var e=new o.FormNotReadyError("requestCardNonce");throw this.errorLogger.capture(e),e}this.clientController.requestCardNonceIfValidForm()},c.prototype.recalculateSize=function(){this.clientController.buildStylesForScreenWidth()},c.prototype.setPostalCode=function(e){this.clientController.setPostalCode(e)},c.prototype.focus=function(e){var t,n=!1;for(var r in i.INPUT_TYPES)if(e==i.INPUT_TYPES[r]){n=!0;break}if(n?this.clientController.hasLoaded()||(t=new o.FormNotReadyError("focus")):t=new o.InvalidFieldError(e),t)throw this.errorLogger.capture(t),t;this.clientController.iframeControllers[e].focus()},c.prototype.detachLoadEvent=function(){this._handleDomContentLoaded&&(l.getDocument().removeEventListener("DOMContentLoaded",this._handleDomContentLoaded),l.getWindow().removeEventListener("load",this._handleDomContentLoaded),this._handleDomContentLoaded=null)},c.prototype.validateOptions=function(e){if(!e)return new o.MissingArgumentError("options");if("[object Object]"!==Object.prototype.toString.call(e))return new o.InvalidArgumentError("options","object");if(!e.applicationId)return new o.MissingOptionError("applicationId");if(!e.inputClass)return new o.MissingOptionError("inputClass");if(-1!==e.inputClass.indexOf(" "))return new o.InvalidOptionError("inputClass");if(!e.callbacks)return new o.MissingOptionError("callbacks");for(var t in i.INPUT_TYPES){var n=i.INPUT_TYPES[t],r=this.validateInputType(n,e);if(r)return r}if(!e.callbacks.cardNonceResponseReceived)return new o.MissingCallbackError("cardNonceResponseReceived");if("function"!=typeof e.callbacks.cardNonceResponseReceived)return new o.InvalidCallbackError("cardNonceResponseReceived");var s=!1;for(var a in i.DIGITAL_WALLETS)if(e[a]){s=!0;break}if(s){if(!e.callbacks.createPaymentRequest)return new o.MissingCallbackError("createPaymentRequest");if("function"!=typeof e.callbacks.createPaymentRequest)return new o.InvalidCallbackError("createPaymentRequest");if(!e.callbacks.methodsSupported)return new o.MissingCallbackError("methodsSupported");if("function"!=typeof e.callbacks.methodsSupported)return new o.InvalidCallbackError("methodsSupported")}return e.inputStyles&&!Array.isArray(e.inputStyles)?new o.InvalidInputStylesError:void 0},c.prototype.validateInputType=function(e,t){if(e!==i.INPUT_TYPES.POSTAL_CODE||!1!==t[e])return t[e]?t[e].elementId?void 0:new o.MissingElementIdError(e):new o.MissingInputTypeError(e)},e.exports=c},function(e,t,n){"use strict";var r=n(3),i=n(6),o=n(18),s=n(7),a=n(1),l=n(19),c=n(4),u=n(0),p=n(20),d=n(22);function h(e){this.options=e,this.env=e.env,this.errorLogger=e.errorLogger,this.callbacks=this.options.callbacks,this.iframeControllers={},this.loadedIframes=[],this.loadedWallets={},this.messageBuffer=[],this.messageHandlers=new i,this.inputTypes=c.cloneObject(h.INPUT_TYPES),!1===this.options[this.inputTypes.POSTAL_CODE]&&delete this.inputTypes.POSTAL_CODE,this.iframeNames={},this.telemetry=new s({env:this.options.env,applicationId:this.options.applicationId})}h.RESIZE_TIMEOUT_MS=250,h.MAIN_FRAME="cardNumber",h.INPUT_TYPES={CARD_NUMBER:"cardNumber",CVV:"cvv",EXPIRATION_DATE:"expirationDate",POSTAL_CODE:"postalCode"},h.DIGITAL_WALLETS={applePay:p,masterpass:d},h.prototype.build=function(){if(!(Object.keys(this.iframeControllers).length>0)){this._buildAt=Date.now(),this.buildIframeControllers(),this.addPostMessageEventListeners(),this.addResizeEventListener();var e=this.pluginShim();for(var t in h.DIGITAL_WALLETS)this.loadedWallets[t]=new h.DIGITAL_WALLETS[t](e)}},h.prototype.pluginShim=function(){var e=this;return{options:this.options,callbacks:this.callbacks,messageHandlers:this.messageHandlers,enableMethod:this.enableMethod.bind(this),sendEvent:function(t,n){e.sendIframeMessage({eventName:t,payload:n})}}},h.prototype.enableMethod=function(e,t){var n={};n[e]=t,t||delete this.loadedWallets[e],this.callbacks&&"function"==typeof this.callbacks.methodsSupported&&this.callbacks.methodsSupported(n)},h.prototype.buildIframeControllers=function(){for(var e in this.inputTypes){var t=this.inputTypes[e];this.buildIframeController(t)}},h.prototype.getContainerElement=function(e){var t=u.getDocument().getElementById(e);if(!t)throw new r.ElementNotFoundError(e);var n=t.innerHTML;t.innerHTML="!";var i=t.offsetHeight;return t.innerHTML=n,i<=0&&u.getWindow().console.warn(new r.ElementNotVisibleError(e)),t},h.prototype.buildIframeController=function(e){var t=this.options[e].elementId,n=this.getContainerElement(t),r=c.cloneObject(this.options[e]);r.inputClass=this.options.inputClass,r.inheritedClassName=n.className,r.env=this.env,r.applicationId=this.options.applicationId,this.iframeControllers[e]=new o(e,r,this.iframeCallbacks()),this.iframeNames[e]=this.iframeControllers[e].name(),this.iframeControllers[e].originalElement=n,n.parentElement.replaceChild(this.iframeControllers[e].element,n)},h.prototype.destroy=function(){for(var e in this.removePostMessageEventListeners(),this.removeTouchStartEventListener(),this.removeResizeEventListener(),this.iframeControllers)this.iframeControllers[e].destroy(),delete this.iframeControllers[e]},h.prototype.iframeCallbacks=function(){return{onload:function(e){this.addLoadedFrame(e)}.bind(this)}},h.prototype.addLoadedFrame=function(e){-1===this.loadedIframes.indexOf(e)&&this.loadedIframes.push(e),this.loadedIframes.length===Object.keys(this.inputTypes).length&&this.loadFormController()},h.prototype.addLogoIframe=function(e){var t=u.getDocument().createElement("iframe");t.src=this.env.serviceUrl(a.endpoints.LOGO,"?s="+encodeURIComponent(e||"")),t.id="sq-logo",t.width="0",t.height="0",t.frameBorder="0",t.tabIndex="-1";var n=this.iframeControllers.postalCode.element;n.parentNode.insertBefore(t,n.nextSibling)},h.prototype.receiveMessageCallback=function(e){var t;if(e.origin===this.env.serviceUrl()){switch(e.data.eventName){case a.events.CARD_NONCE_RESPONSE_RECEIVED:this.options.callbacks&&"function"==typeof this.options.callbacks.cardNonceResponseReceived&&this.options.callbacks.cardNonceResponseReceived(e.data.value.errors,e.data.value.card_nonce,e.data.value.card);break;case a.events.INPUT_EVENT_RECEIVED:var n=this.iframeControllers[e.data.inputEvent.field];switch(e.data.inputEvent.eventType){case a.inputEvents.ERROR_CLASS_ADDED:t=this.classNameForClassType("error"),n.addClass(t);break;case a.inputEvents.ERROR_CLASS_REMOVED:t=this.classNameForClassType("error"),n.removeClass(t);break;case a.inputEvents.FOCUS_CLASS_ADDED:t=this.classNameForClassType("focus"),n.addClass(t);break;case a.inputEvents.FOCUS_CLASS_REMOVED:t=this.classNameForClassType("focus"),n.removeClass(t)}this.options.callbacks&&"function"==typeof this.options.callbacks.inputEventReceived&&this.options.callbacks.inputEventReceived(e.data.inputEvent);break;case a.events.SET_INPUT_HEIGHT:var i=this.iframeControllers[e.data.inputType].element,s=Math.max(e.data.inputHeight,o.MIN_HEIGHT);i.setAttribute("height",s),0!==e.data.inputHeight||this._inputHeightError||(this._inputHeightError=!0,this.errorLogger.capture(new r.InputHeightZeroError));break;case a.events.SET_SESSION_ID:break;case a.events.PAYMENT_FORM_LOADED:this._loadedAt=Date.now(),this.addTouchStartEventListener();var c=this._loadedAt-this._buildAt;for(this.telemetry.collectLoadTiming({tti:c},l.getHash()),this.options.callbacks&&"function"==typeof this.options.callbacks.paymentFormLoaded&&this.options.callbacks.paymentFormLoaded();this.messageBuffer.length>0;)this.sendIframeMessage(this.messageBuffer.pop())}this.messageHandlers.handle(e.data.eventName,e.data)}},h.prototype.updateStylesOnResize=function(){clearTimeout(this.fireOnResizeEnd),this.fireOnResizeEnd=setTimeout(this.buildStylesForScreenWidth.bind(this),h.RESIZE_TIMEOUT_MS)},h.prototype.addPostMessageEventListeners=function(){this._messageCallback=this.receiveMessageCallback.bind(this),u.getWindow().addEventListener("message",this._messageCallback)},h.prototype.removePostMessageEventListeners=function(){u.getWindow().removeEventListener("message",this._messageCallback)},h.prototype.addTouchStartEventListener=function(){this._touchstartCallback=function(){this._touchStarted=!0}.bind(this),this._touchendCallback=function(){this._touchStarted&&this.blurAllInputs(),this._touchStarted=!1}.bind(this),this._touchmoveCallback=function(){this._touchStarted=!1}.bind(this),this._touchcancelCallback=this._touchmoveCallback,u.getWindow().addEventListener("touchstart",this._touchstartCallback),u.getWindow().addEventListener("touchend",this._touchendCallback),u.getWindow().addEventListener("touchmove",this._touchmoveCallback),u.getWindow().addEventListener("touchcancel",this._touchcancelCallback)},h.prototype.removeTouchStartEventListener=function(){u.getWindow().removeEventListener("touchstart",this._touchstartCallback),u.getWindow().removeEventListener("touchend",this._touchendCallback),u.getWindow().removeEventListener("touchmove",this._touchmoveCallback),u.getWindow().removeEventListener("touchcancel",this._touchcancelCallback)},h.prototype.addResizeEventListener=function(){this._resizeCallback=this.updateStylesOnResize.bind(this),u.getWindow().addEventListener("resize",this._resizeCallback)},h.prototype.removeResizeEventListener=function(){u.getWindow().removeEventListener("resize",this._resizeCallback),clearTimeout(this.fireOnResizeEnd)},h.prototype.classNameForClassType=function(e){return this.options.inputClass+"--"+e},h.prototype.sendIframeMessage=function(e){if(-1!==this.loadedIframes.indexOf(h.MAIN_FRAME)){var t=this.env.serviceUrl();this.iframeControllers[h.MAIN_FRAME].element.contentWindow.postMessage(e,t)}else this.messageBuffer.push(e)},h.prototype.loadFormController=function(){var e={eventName:a.events.LOAD_FORM_CONTROLLER,iframes:this.iframeNames,options:{envName:this.env.name,applicationId:this.options.applicationId,websiteUrl:this.options.websiteUrl,hostOrigin:u.getOrigin(),cardNumber:this.options.cardNumber,cvv:this.options.cvv,expirationDate:this.options.expirationDate,postalCode:this.options.postalCode,inputStyles:this.options.inputStyles},initialScreenWidth:u.getWindow().innerWidth};this.sendIframeMessage(e)},h.prototype.requestCardNonceIfValidForm=function(){this.sendIframeMessage({eventName:a.events.REQUEST_CARD_NONCE_IF_VALID_FORM})},h.prototype.buildStylesForScreenWidth=function(){this.sendIframeMessage({eventName:a.events.BUILD_STYLES_FOR_SCREEN_WIDTH,screenWidth:u.getWindow().innerWidth})},h.prototype.blurAllInputs=function(){this.sendIframeMessage({eventName:a.events.BLUR_ALL_INPUTS})},h.prototype.setPostalCode=function(e){var t=typeof e;"string"!==t&&"number"!==t||this.sendIframeMessage({eventName:a.events.SET_POSTAL_CODE,postalCode:""+e})},h.prototype.hasLoaded=function(){return!!this._loadedAt},e.exports=h},function(e,t,n){"use strict";var r=n(1),i=n(0);function o(e,t,n){this.type=e,this.options=t,this.callbacks=n,this.env=this.options.env,this.element=i.getDocument().createElement("iframe"),this.element.onload=this.onload.bind(this),this.setDefaultAttributes()}o.MIN_HEIGHT=17,o.prototype.onload=function(){"function"==typeof this.callbacks.onload&&this.callbacks.onload(this.type)},o.prototype.destroy=function(){this.element.parentNode&&this.element.parentNode.replaceChild(this.originalElement,this.element),this.originalElement=null,this.element=null},o.prototype.setDefaultAttributes=function(){var e=this.element;e.setAttribute("id",this.options.elementId),e.setAttribute("name",this.name()),e.setAttribute("class",this.combinedClassName()),e.setAttribute("frameBorder","0"),e.setAttribute("width","100%"),e.setAttribute("scrolling","no"),e.setAttribute("height",17),e.setAttribute("src",this.iframeSRC())},o.prototype.combinedClassName=function(){var e=[];return this.options.inputClass&&e.push(this.options.inputClass),this.options.inheritedClassName&&e.push(this.options.inheritedClassName),e.join(" ")},o.prototype.iframeSRC=function(){return this.env.serviceUrl(r.endpoints.IFRAME,this.queryString())},o.prototype.queryString=function(){var e="?type="+this.type;return"cardNumber"===this.type&&(e+="&app_id="+this.options.applicationId),e},o.prototype.addClass=function(e){this.element.classList.add(e)},o.prototype.removeClass=function(e){this.element.classList.remove(e)},o.prototype.focus=function(){this.element.focus()},o.prototype.name=function(){return this.options.elementId},e.exports=o},function(e,t,n){"use strict";e.exports={getHash:function(){return"eyJzIjoiMGJmM2E5YjEiLCJiIjoxNTI3ODg2NDgyNzU1LCJ2IjoiMC4xLjEifQ=="}}},function(e,t,n){"use strict";var r=n(1),i=n(3),o=n(0),s=n(11),a=n(21);function l(e){if(this.controller=e,this.options=e.options,this.callbacks=e.callbacks,this.options.applePay&&"undefined"!=typeof ApplePaySession&&"function"==typeof this.callbacks.createPaymentRequest&&"function"==typeof this.callbacks.cardNonceResponseReceived){var t=this.options.applePay.elementId,n=o.getDocument().getElementById(t);if(!n)throw new i.ElementNotFoundError(t);if(!this.options.locationId)throw new i.MissingOptionError("locationId");var s=this;this.validityPromise=ApplePaySession.canMakePaymentsWithActiveCard(this.getApplePayMerchantId()).then(function(e){e?(n.addEventListener("click",s.requestApplePayment.bind(s)),s.controller.messageHandlers.add(r.events.RECEIVE_APPLE_PAY_VALID_MERCHANT,s.receiveApplePayValidMerchant.bind(s)),s.controller.messageHandlers.add(r.events.RECEIVE_APPLE_PAY_CARD_NONCE,s.receiveApplePayCardNonce.bind(s)),s.controller.sendEvent(r.events.LOAD_WALLET,r.wallets.APPLE_PAY),s.controller.enableMethod(r.wallets.APPLE_PAY,!0)):s.controller.enableMethod(r.wallets.APPLE_PAY,!1)}).catch(function(){s.controller.enableMethod(r.wallets.APPLE_PAY,!1)})}else this.controller.enableMethod(r.wallets.APPLE_PAY,!1)}l.prototype.requestApplePayment=function(){var e=this,t=new a(this.callbacks.createPaymentRequest()).toApplePay(),n=ApplePaySession.supportsVersion(2)?2:1;this.session=new ApplePaySession(n,t),this.session.onvalidatemerchant=function(t){e.requestApplePayMerchantValidity(t.validationURL)},"function"==typeof this.callbacks.validateShippingContact&&(this.session.onshippingcontactselected=function(n){e._validateShippingContact(n.shippingContact,t)}),this.session.onpaymentauthorized=function(t){e.requestApplePayCardNonce(t.payment)},this.session.begin()},l.prototype._validateShippingContact=function(e,t){var n=[],r="function"==typeof this.callbacks.validateShippingContact&&this.callbacks.validateShippingContact(s.fromApplePay(e));if(!r)return this.session.completeShippingContactSelection(ApplePaySession.STATUS_SUCCESS,n,t.total,t.lineItems);if("function"!=typeof ApplePayError)return this.session.completeShippingContactSelection(ApplePaySession.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS,n,t.total,t.lineItems);var i={country:"countryCode",region:"administrativeArea",city:"locality",addressLines:"addressLines",postalCode:"postalCode"},o=Object.keys(r).map(function(e){return new ApplePayError("shippingContactInvalid",i[e],r[e])});this.session.completeShippingContactSelection({errors:o,newShippingMethods:[],newTotal:t.total,newLineItems:t.lineItems})},l.prototype.requestApplePayMerchantValidity=function(e){this.controller.sendEvent(r.events.REQUEST_APPLE_PAY_MERCHANT_VALIDITY,{client_id:this.options.applicationId,location_id:this.options.locationId,validation_url:e,source_url:location.href})},l.prototype.receiveApplePayValidMerchant=function(e){e.payload.error?(this.callbacks.cardNonceResponseReceived([{detail:"Unable to start Apple Pay session."}]),this.session.abort()):this.session.completeMerchantValidation(JSON.parse(e.payload.session))},l.prototype.requestApplePayCardNonce=function(e){this.controller.sendEvent(r.events.REQUEST_APPLE_PAY_CARD_NONCE,{client_id:this.options.applicationId,applepay_data:e})},l.prototype.receiveApplePayCardNonce=function(e){var t=e.payload.nonceResponse;if(t.errors)return this.session.completePayment(this.session.STATUS_FAILURE),this.controller.callbacks.cardNonceResponseReceived(t.errors),!1;this.session.completePayment(this.session.STATUS_SUCCESS);var n=s.fromApplePay(t.card.contact),r=s.fromApplePay(t.shipping_contact);delete t.card.contact,this.controller.callbacks.cardNonceResponseReceived(null,t.card_nonce,t.card,n,r)},l.prototype.getApplePayMerchantId=function(){var e=this.options.applicationId,t=o.getParentLocation().hostname;return/squareupstaging\.com$/.test(t)?e="merchant.com.squareup.sdktest":/squareup\.com$/.test(t)&&(e="merchant.com.squareup.sdk"),e},e.exports=l},function(e,t,n){"use strict";var r=n(11);function i(e){"object"!=typeof e&&(e={}),this.data={},this.currencyCode=e.currencyCode,this.countryCode=e.countryCode,this.total=e.total,this.shippingContact=e.shippingContact,this.lineItems=e.lineItems,this.requestShippingAddress=e.requestShippingAddress,this.requestBillingInfo=e.requestBillingInfo}Object.defineProperty(i.prototype,"currencyCode",{get:function(){return this.data.currencyCode},set:function(e){this.data.currencyCode=e},enumerable:!0}),Object.defineProperty(i.prototype,"countryCode",{get:function(){return this.data.countryCode},set:function(e){this.data.countryCode=e},enumerable:!0}),Object.defineProperty(i.prototype,"total",{get:function(){return this.data.total},set:function(e){this.data.total=e},enumerable:!0}),Object.defineProperty(i.prototype,"shippingContact",{get:function(){return this.data.shippingContact},set:function(e){!e||e instanceof r||(e=new r(e)),this.data.shippingContact=e},enumerable:!0}),Object.defineProperty(i.prototype,"lineItems",{get:function(){return this.data.lineItems},set:function(e){this.data.lineItems=e},enumerable:!0}),Object.defineProperty(i.prototype,"requestShippingAddress",{get:function(){return this.data.requestShippingAddress},set:function(e){this.data.requestShippingAddress=e},enumerable:!0}),Object.defineProperty(i.prototype,"requestBillingInfo",{get:function(){return this.data.requestBillingInfo},set:function(e){this.data.requestBillingInfo=e},enumerable:!0}),i.prototype.toApplePay=function(){var e={currencyCode:this.data.currencyCode,countryCode:this.data.countryCode,total:this._toApplePayLineItem(this.data.total),supportedNetworks:["visa","masterCard","discover","amex"],merchantCapabilities:["supports3DS"],requiredBillingContactFields:["postalAddress"]};return this.data.shippingContact instanceof r&&(e.shippingContact=this.data.shippingContact.toApplePay()),this.data.lineItems&&this.data.lineItems instanceof Array?e.lineItems=this.data.lineItems.map(this._toApplePayLineItem):e.lineItems=[],this.data.requestBillingInfo&&(e.requiredShippingContactFields=["email","name"]),this.data.requestShippingAddress&&(e.requiredShippingContactFields=["postalAddress","name","email"]),e},i.prototype._toApplePayLineItem=function(e){if(e){var t={label:e.label,type:e.pending?"pending":"final"};return e.pending||(t.amount=e.amount),t}},e.exports=i},function(e,t,n){"use strict";var r=n(1),i=n(3),o=n(0);function s(e){if(this.controller=e,this.options=e.options,this.options.masterpass&&"function"==typeof this.controller.callbacks.createPaymentRequest&&"function"==typeof this.controller.callbacks.cardNonceResponseReceived){var t=this.options.masterpass.elementId,n=o.getDocument().getElementById(t);if(!n)throw new i.ElementNotFoundError(t);this.checkoutId="",this.cartId="",this.masterpassWindow=null,n.addEventListener("click",this._requestPayment.bind(this)),this.controller.messageHandlers.add(r.events.RECEIVE_MASTERPASS_TRANSACTION,this.receiveTransaction.bind(this)),this.controller.messageHandlers.add(r.events.SET_MASTERPASS_CHECKOUT_ID,this.setCheckoutId.bind(this)),this.controller.sendEvent(r.events.LOAD_WALLET,r.wallets.MASTERPASS)}else this.controller.enableMethod(r.wallets.MASTERPASS,!1)}s.prototype.setCheckoutId=function(e){this.checkoutId=e.checkoutId,this.controller.enableMethod(r.wallets.MASTERPASS,!0)},s.prototype._createCartId=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},s.prototype._requestPayment=function(){if(!this.masterpassWindow||this.masterpassWindow.closed){var e=this.controller.callbacks.createPaymentRequest();this.cartId=this._createCartId();var t=o.getWindow().screen.width/2-510,n=o.getWindow().screen.height/2-450;this.masterpassWindow=o.getWindow().open("","Masterpass","width=1000,height=800,left="+t+",top="+n+",screenX="+t+",screenY="+n+",toolbar=no,menubar=no,scrollbars=no,location=yes,directories=no");var r=this.masterpassWindow.document;this._buildWindowContent(this.options.env,e,r)}else this.masterpassWindow.focus()},s.prototype._buildWindowContent=function(e,t,n){var i=t.total.amount,o=t.currencyCode,s=e.serviceUrl(r.endpoints.MASTERPASS_CALLBACK),a=n.createElement("script");a.setAttribute("type","text/javascript");var l={checkoutId:this.checkoutId,allowedCardTypes:["visa","masterCard","discover","amex"],amount:i,currency:o,suppress3Ds:!1,suppressShippingAddress:!0,cartId:this.cartId,callbackUrl:s};a.innerText="function start() { masterpass.checkout("+JSON.stringify(l)+"); }";var c=n.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",e.masterpassJsUrl),c.setAttribute("onload","start()");var u=n.createElement("body");u.appendChild(a),u.appendChild(c),n.body=u},s.prototype.receiveTransaction=function(e){this.masterpassWindow&&(this.masterpassWindow.close(),this.masterpassWindow=null);var t=e.payload;if("success"!==t.status)return!1;this.controller.sendEvent(r.events.REQUEST_MASTERPASS_CARD_NONCE,{client_id:this.options.applicationId,masterpass_data:{transaction_id:t.transactionId,cart_id:this.cartId}})},e.exports=s}]);


// Live
var applicationId = "sq0idp-ABWz2uKCgZIlsZ55svnsPw";
var locationId = "080JBJFMXE406";

/*
 * function: requestCardNonce
 *
 * requestCardNonce is triggered when the "Pay with credit card" button is
 * clicked
 *
 * Modifying this function is not required, but can be customized if you
 * wish to take additional action when the form button is clicked.
 */
function requestCardNonce(event) {

  // Don't submit the form until SqPaymentForm returns with a nonce
  event.preventDefault();

  // Request a nonce from the SqPaymentForm object
  paymentForm.requestCardNonce();
}

// Create and initialize a payment form object
var paymentForm = new SqPaymentForm({

  // Initialize the payment form elements
  applicationId: applicationId,
  locationId: locationId,
  inputClass: 'sq-input',

  // Customize the CSS for SqPaymentForm iframe elements
  inputStyles: [{
      fontSize: '.9em'
  }],

  // Initialize Apple Pay placeholder ID
  applePay: {
    elementId: 'sq-apple-pay'
  },

  // Initialize Masterpass placeholder ID
  masterpass: {
    elementId: 'sq-masterpass'
  },

  // Initialize the credit card placeholders
  cardNumber: {
    elementId: 'sq-card-number',
    placeholder: 'XXXX XXXX XXXX XXXX'
  },
  cvv: {
    elementId: 'sq-cvv',
    placeholder: 'CVV'
  },
  expirationDate: {
    elementId: 'sq-expiration-date',
    placeholder: 'MM/YY'
  },
  postalCode: {
    elementId: 'sq-postal-code'
  },

  // SqPaymentForm callback functions
  callbacks: {

    /*
     * callback function: methodsSupported
     * Triggered when: the page is loaded.
     */
    methodsSupported: function (methods) {

      var applePayBtn = document.getElementById('sq-apple-pay');
      var applePayLabel = document.getElementById('sq-apple-pay-label');
      var masterpassBtn = document.getElementById('sq-masterpass');
      var masterpassLabel = document.getElementById('sq-masterpass-label');

      // Only show the button if Apple Pay for Web is enabled
      // Otherwise, display the wallet not enabled message.
      if (methods.applePay === true) {
        applePayBtn.style.display = 'inline-block';
        applePayLabel.style.display = 'none' ;
      }
      // Only show the button if Masterpass is enabled
      // Otherwise, display the wallet not enabled message.
      if (methods.masterpass === true) {
        masterpassBtn.style.display = 'inline-block';
        masterpassLabel.style.display = 'none';
      }
    },

    /*
     * callback function: createPaymentRequest
     * Triggered when: a digital wallet payment button is clicked.
     */
    createPaymentRequest: function () {

      var paymentRequestJson ;
      /* ADD CODE TO SET/CREATE paymentRequestJson */
      return paymentRequestJson ;
    },

    /*
     * callback function: validateShippingContact
     * Triggered when: a shipping address is selected/changed in a digital
     *                 wallet UI that supports address selection.
     */
    validateShippingContact: function (contact) {

      var validationErrorObj ;
      /* ADD CODE TO SET validationErrorObj IF ERRORS ARE FOUND */
      return validationErrorObj ;
    },

    /*
     * callback function: cardNonceResponseReceived
     * Triggered when: SqPaymentForm completes a card nonce request
     */
    cardNonceResponseReceived: function(errors, nonce, cardData, billingContact, shippingContact) {
      if (errors) {
        // Log errors from nonce generation to the Javascript console
        console.log("Encountered errors:");
        errors.forEach(function(error) {
          console.log(' testtt ' + error.message);
        });

        return;
      }

      alert('Nonce received: ' + nonce); /* FOR TESTING ONLY */

      // Assign the nonce value to the hidden form field
      document.getElementById('card-nonce').value = nonce;

      // POST the nonce form to the payment processing page
      document.getElementById('nonce-form').submit();

    },

    /*
     * callback function: unsupportedBrowserDetected
     * Triggered when: the page loads and an unsupported browser is detected
     */
    unsupportedBrowserDetected: function() {
      /* PROVIDE FEEDBACK TO SITE VISITORS */
    },

    /*
     * callback function: inputEventReceived
     * Triggered when: visitors interact with SqPaymentForm iframe elements.
     */
    inputEventReceived: function(inputEvent) {
      switch (inputEvent.eventType) {
        case 'focusClassAdded':
          /* HANDLE AS DESIRED */
          break;
        case 'focusClassRemoved':
          /* HANDLE AS DESIRED */
          break;
        case 'errorClassAdded':
          /* HANDLE AS DESIRED */
          break;
        case 'errorClassRemoved':
          /* HANDLE AS DESIRED */
          break;
        case 'cardBrandChanged':
          /* HANDLE AS DESIRED */
          break;
        case 'postalCodeChanged':
          /* HANDLE AS DESIRED */
          break;
      }
    },

    /*
     * callback function: paymentFormLoaded
     * Triggered when: SqPaymentForm is fully loaded
     */
    paymentFormLoaded: function() {
      /* HANDLE AS DESIRED */
    }
  }
});